(function(b,a){if(typeof define==="function"&&define.amd)define(["jquery"],a);else a(jQuery)})(this,function(a){a(document).bind("mobileinit",function(){a.mobile.linkBindingEnabled=false;a.mobile.ajaxEnabled=false;a.mobile.hashListeningEnabled=false;a.mobile.pushStateEnabled=false;a.mobile.autoInitializePage=false;a.mobile.page.prototype.options.theme="b";a('div[data-role="page"]').live("pagehide",function(b){a(b.currentTarget).remove()});a.extend(a.mobile,{jqmNavigator:{VERSION:"1.0.0",_containers:[],defaultPageContainer:null,pushView:function(b,d){var c=this._getPageContainerViews(d);c.pageContainer.append(b.el);b.render();if(!a.mobile.firstPage){b.$el.attr("data-role","page");!a.mobile.autoInitializePage&&a.mobile.initializePage()}else a.mobile.changePage(b.$el,a.extend({role:"page",changeHash:false,pageContainer:c.pageContainer},d))},popView:function(d){var b=this._getPageContainerViews(d);if(b.views.length>1){var c=b.views.pop();toView=b.views[b.views.length-1];c.$el.one("pagehide",function(){c.$el.detach()});a.mobile.changePage(toView.$el,a.extend({role:"page",reverse:true,changeHash:false,pageContainer:b.pageContainer},d))}else console.log("Can't pop first view, you can replace it instead!")},popToFirst:function(c){var b=this._getPageContainerViews(c);if(b.views.length>1){var e=b.views[b.views.length-1],f=b.views[0],d=b.views.splice(1,b.views.length-1);e.$el.one("pagehide",function(){d.forEach(function(a){a.$el.detach()},this)});a.mobile.changePage(f.$el,a.extend({role:"page",reverse:true,changeHash:false,pageContainer:b.pageContainer},c))}else console.log("Can't pop first view, you can replace it instead!")},replaceView:function(c,e){var b=this._getPageContainerViews(e);if(b.views.length>=1){var d=b.views.pop();d.$el.one("pagehide",function(){d.$el.detach()});b.views.push(c);b.pageContainer.append(c.el);c.render();a.mobile.changePage(c.$el,a.extend({role:"page",changeHash:false,pageContainer:b.pageContainer},e))}},replaceAll:function(c,d){var b=this._getPageContainerViews(d);if(b.views.length>=1){var f=b.views[b.views.length-1],e=b.views.splice(0,b.views.length);f.$el.one("pagehide",function(){e.forEach(function(a){a.$el.detach()},this)});b.views.push(c);b.pageContainer.append(c.el);c.render();a.mobile.changePage(c.$el,a.extend({role:"page",changeHash:false,pageContainer:b.pageContainer},d))}},_getPageContainerViews:function(c){var d=c&&c.pageContainer?c.pageContainer:a.mobile.pageContainer||this.defaultPageContainer||a("body"),b;this._containers.some(function(a){if(a.pageContainer[0]===d[0]){b=a;return true}},this);!b&&this._containers.push(b={pageContainer:d,views:[]});return b},getViews:function(b){var c,d=b?b[0]:a.mobile.pageContainer?a.mobile.pageContainer[0]:null;this._containers.some(function(a){if(a.pageContainer[0]===d){c=a.views;return true}},this);return c}}})})})